{
    "collab_server" : "",
    "contents" : "library(rvest)\nlibrary(magrittr)\nlibrary(tabulizer)\nlibrary(tesseract)\n\ntemp = list()\ntemp1 = list() \ntemp2 = list()\nfor (i in 2001:4000){\n  temp1[[i]] = google_geocode(pv[i],key = place_key)$results\n}\nfor (i in 4001:length(pv)){\n  temp2[[i]] = google_geocode(pv[i],key = place_key)$results\n}\ntemp2[2001:4000] = temp[2001:4000]\ntemp = temp2[2001:length(pv)]\n# temp_extract_col = lapply(temp,subset,select = c(\"geometry.location.lat\",\"geometry.location.lng\"))\nl = list()\ni = 1\nfor(element in temp){\n  if(i>52){\n    browser()\n  }\n  l[[i]] = element$geometry$location[,c(\"lat\",\"lng\")]\n  if(is.null(l[[i]])){\n    print(paste0(\"null elements:\",i))\n  }\n  else if(nrow(l[[i]])>1){\n    print(paste0(\"duplicate elements:\",i))\n  }\n  i = i+1\n  print(i)\n}\ni = 1\nfor(element in temp){\n  if(length(element) == 0){\n    print(i)\n  }\n  if(i>2600){\n    break\n  }\n  i = i+1\n}\n\ngeocode(commerce_cord_result[commerce_cord_result$pv ==\"常州曼哈顿广场\",]$pv)\ngoogle_geocode(commerce_cord_result[commerce_cord_result$pv ==\"常州曼哈顿广场\",]$pv,key = place_key)\ngetBaiduGeoData(commerce_cord_result[commerce_cord_result$pv ==\"常州曼哈顿广场\",]$pv)\n\ngetDaodeGeoData(iconv(\"常州曼哈顿广场\",\"gbk\",\"utf-8\"))\ngetDaodeGeoData(\"常州金坛商业区\")\ngetDaodeGeoData(\"常州金坛市中心\")\n\n\ntest_start = \"39.983171,116.308479\"\ntest_start = \"39.8935055024,116.4526963234\" #广泉小区\ntest_end = \"39.996060,116.353455;39.949227,116.394310\"\ntest_end = \"39.9075017400,116.3912022800\"\ntemp = getTencentRouteInfo(test_start,test_end)\n\ngoogle_directions(c(39.70221,106.8455),c(39.505925,106.726099),key = place_key)\n\ntemp3 = google_directions(\"beijing\",\"shanghai\",key = place_key)\ntemp3[[1]] = temp3\ntemp3[[2]] = temp3$routes$legs[[1]]$steps[[1]]\nView(temp3[[2]])\ntemp3[[2]]$distance$value/temp3[[2]]$duration$value*3.6\n\ntemp = getDirectionInfoFromDF(redstar_district_mixed_df[1:5,])\n\na = makeFourDirection(redstar_location[1,])\n\noptions(java.parameters = \"- Xmx1024m\")\nsource('~/Rfile/R_hana.R', encoding = 'UTF-8')\nmall_p_flow_sql = \"select * from bigbi.dm_mall_pass_flow_day\"\ntemp = read_data_from_hana(mall_p_flow_sql)\n\ncommunity_data_sample = community_data_focus[,.SD[1:10,],by = \"city\"]\ncommunity_data_sample = community_data_focus[pricesection > 0,.SD[sample(nrow(.SD),10),],by = \"city\"]\ncommunity_data_sample = community_data_sample[,c(\"city\",\"name\",\"pricesection\")]\n\ncity_gdp_url = \"https://wenku.baidu.com/view/b97475622f3f5727a5e9856a561252d380eb2021.html\"\ncity_gdp_page = read_html(city_gdp_url)\ncity_gdp = city_gdp_page %>% html_nodes('div.reader-pic-item') %>% html_text()\n\ncity_gdp_url = \"http://www.sohu.com/a/219596742_683734\"\ncity_gdp_page = read_html(city_gdp_url)\ncity_gdp = city_gdp_page %>% html_nodes('article#mp-editor p') %>% html_text()\ncity_gdp = city_gdp[str_detect(city_gdp,\"^[\\\\d]{1,2}\\\\.\")]\ngdp = str_extract(city_gdp,\"\\\\d+(?=亿元)\")\npopulation = str_extract(city_gdp,\"\\\\d+(?=万)\")\nincreasing_rate = str_extract(city_gdp,\"\\\\d+(\\\\.)?\\\\d*(?=%)\")\ncity_name = str_extract(city_gdp,\"(?<=\\\\d\\\\.)[^a-z]+?(?=(\\\\d){2})\")\n\ncity_gdp_pdf = extract_tables(\"D://downloads//gdp_ranking.pdf\",encoding = \"UTF-8\",pages = 2)\ngdp_pic1  <- ocr(\"D://downloads//gdp_ranking1.jpg\")\n\n#We will check if this can work\n",
    "created" : 1521450315444.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "372946138",
    "id" : "4486AA54",
    "lastKnownWriteTime" : 1523948029,
    "last_content_update" : 1523948029115,
    "path" : "~/R_Projects/rental_model_standard/backup/temp.R",
    "project_path" : "backup/temp.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}