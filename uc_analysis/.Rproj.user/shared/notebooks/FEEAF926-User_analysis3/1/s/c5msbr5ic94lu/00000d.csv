"0","online_order_sql = paste0(""select count(distinct purchaser_id) as o_num,substr(b.create_date,1,10) as dt from"
"0","(select purchaser_id,create_date from ods.ods_tx_order_tx_order_dt o inner join ods.ods_app_pageview_info a on "
"0","                          o.purchaser_id = a.u_id where substr(o.create_date,1,10)>= '"",datestart,""' and o.order_status not in (1,7,19) and o.order_type=1) b"
"0","                          group by substr(b.create_date,1,10) order by substr(b.create_date,1,10)"")"
"2","Warning message:
"
"2","In strsplit(code, ""\n"", fixed = TRUE) :"
"2","
 "
"2"," input string 1 is invalid in this locale
"
"0","online_order = read_data_impala_general(online_order_sql)"
"0","total_order_sql = paste0(""select count(distinct purchaser_id) as t_num,substr(b.create_date,1,10) as dt from"
"0","(select purchaser_id,create_date from ods.ods_tx_order_tx_order_dt o where substr(o.create_date,1,10)>= '"",datestart,""' and o.order_status not in (1,7,19) and o.order_type=1) b"
"0","                         group by substr(b.create_date,1,10) order by substr(b.create_date,1,10)"")"
"0","total_order = read_data_impala_general(total_order_sql)"
"0","matrix = as.matrix(cbind(online_num = online_order$o_num,total_num = total_order$t_num))"
"0","matrix = t(matrix)"
"0","par(bg = 'white')"
"0","colors <- c(""blue"",""purple"")"
"0","dates <- online_order$dt"
"0","stacks <- c(""有过APP活动订单数"",""总订单数"")"
"0","# Create the bar chart."
"0","barplot(matrix,main=""每日订单数"",names.arg=dates,xlab=""month"",ylab=""订单数"",col=colors,beside = TRUE)"
